<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&#x202A;Ethernet Datalogger: &#x202A;sdcard.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">&#x202A;Ethernet Datalogger
   &#160;<span id="projectnumber">&#x202A;Version 1</span>
   </div>
   <div id="projectbrief">&#x202A;HHN Heilbronn - Microcontroller project WS19/20</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sdcard_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sdcard.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>&#x202A;Access to SDcard.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sdcard_8h_source.html">sdcard.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdcard__debug_8h_source.html">sdcard_debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="uart_8h_source.html">../uart/uart.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="spi_8h_source.html">../spi/spi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="definitions_8h_source.html">definitions.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sdcard.c:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c__incl.png" border="0" usemap="#asdcard_8c" alt=""/></div>
<map name="sdcard_8c" id="sdcard_8c">
<area shape="rect" title="Access to SDcard." alt="" coords="227,5,299,32"/>
<area shape="rect" href="sdcard_8h.html" title=" " alt="" coords="59,80,131,107"/>
<area shape="rect" href="sdcard__debug_8h.html" title=" " alt="" coords="206,80,321,107"/>
<area shape="rect" href="uart_8h.html" title=" " alt="" coords="199,155,293,181"/>
<area shape="rect" href="spi_8h.html" title=" " alt="" coords="317,155,399,181"/>
<area shape="rect" href="definitions_8h.html" title=" " alt="" coords="395,80,486,107"/>
<area shape="rect" href="fat32_8h.html" title=" " alt="" coords="30,155,91,181"/>
<area shape="rect" title=" " alt="" coords="63,229,128,256"/>
<area shape="rect" href="ioconfig_8h.html" title=" " alt="" coords="307,229,409,256"/>
<area shape="rect" title=" " alt="" coords="5,304,68,331"/>
<area shape="rect" title=" " alt="" coords="93,304,178,331"/>
<area shape="rect" title=" " alt="" coords="203,304,303,331"/>
<area shape="rect" title=" " alt="" coords="327,304,389,331"/>
<area shape="rect" title=" " alt="" coords="413,304,477,331"/>
<area shape="rect" title=" " alt="" coords="501,304,567,331"/>
<area shape="rect" title=" " alt="" coords="591,304,704,331"/>
</map>
</div>
</div>
<p><a href="sdcard_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a80e7493f60aabadc9022e6c0aca80850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#a80e7493f60aabadc9022e6c0aca80850">SDPowerUpSequence</a> (void)</td></tr>
<tr class="memdesc:a80e7493f60aabadc9022e6c0aca80850"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Start initialization sequence.  <a href="sdcard_8c.html#a80e7493f60aabadc9022e6c0aca80850">More...</a><br /></td></tr>
<tr class="separator:a80e7493f60aabadc9022e6c0aca80850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fe00f5b5970292cf53a4a6c9b32310"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310">SDCommand</a> (uint8_t cmd, uint32_t arg, uint8_t crc)</td></tr>
<tr class="memdesc:aa4fe00f5b5970292cf53a4a6c9b32310"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Send command to SDcard.  <a href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310">More...</a><br /></td></tr>
<tr class="separator:aa4fe00f5b5970292cf53a4a6c9b32310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa518d1b1d7b4052e5b0018d1cc2c14"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14">SDReadR1</a> (void)</td></tr>
<tr class="memdesc:a1fa518d1b1d7b4052e5b0018d1cc2c14"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Read R1 message.  <a href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14">More...</a><br /></td></tr>
<tr class="separator:a1fa518d1b1d7b4052e5b0018d1cc2c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf802748634393b9afd37c60c1e90dab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#adf802748634393b9afd37c60c1e90dab">SDReadR7</a> (uint8_t *res)</td></tr>
<tr class="memdesc:adf802748634393b9afd37c60c1e90dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Read response format R7.  <a href="sdcard_8c.html#adf802748634393b9afd37c60c1e90dab">More...</a><br /></td></tr>
<tr class="separator:adf802748634393b9afd37c60c1e90dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c915ce44b0f9e6434ea408ac6c1759"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#a25c915ce44b0f9e6434ea408ac6c1759">SDSendIfCond</a> (uint8_t *res)</td></tr>
<tr class="memdesc:a25c915ce44b0f9e6434ea408ac6c1759"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Send Interface Condition Command (CMD8)  <a href="sdcard_8c.html#a25c915ce44b0f9e6434ea408ac6c1759">More...</a><br /></td></tr>
<tr class="separator:a25c915ce44b0f9e6434ea408ac6c1759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af515c90a15e2d8d663537120e1d27e50"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#af515c90a15e2d8d663537120e1d27e50">SDSendApp</a> (void)</td></tr>
<tr class="memdesc:af515c90a15e2d8d663537120e1d27e50"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;First Sending Command.  <a href="sdcard_8c.html#af515c90a15e2d8d663537120e1d27e50">More...</a><br /></td></tr>
<tr class="separator:af515c90a15e2d8d663537120e1d27e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdfa2111d3874aa8f721d3c5f7c132ee"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#abdfa2111d3874aa8f721d3c5f7c132ee">SDSendOpCond</a> (void)</td></tr>
<tr class="memdesc:abdfa2111d3874aa8f721d3c5f7c132ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Send Operating Condition Command (ACMD41)  <a href="sdcard_8c.html#abdfa2111d3874aa8f721d3c5f7c132ee">More...</a><br /></td></tr>
<tr class="separator:abdfa2111d3874aa8f721d3c5f7c132ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb000ca004cd3908dcc5be27a7af06c0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#adb000ca004cd3908dcc5be27a7af06c0">SDReadBlock</a> (uint32_t addr, uint8_t *token)</td></tr>
<tr class="memdesc:adb000ca004cd3908dcc5be27a7af06c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Read Single Block (CMD17)  <a href="sdcard_8c.html#adb000ca004cd3908dcc5be27a7af06c0">More...</a><br /></td></tr>
<tr class="separator:adb000ca004cd3908dcc5be27a7af06c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a32a6e47d9f9bd2c84d6cd0c04ba64a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#a4a32a6e47d9f9bd2c84d6cd0c04ba64a">SDReadOCR</a> (uint8_t *res)</td></tr>
<tr class="memdesc:a4a32a6e47d9f9bd2c84d6cd0c04ba64a"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Read Operation Conditions Register (OCR) CMD58.  <a href="sdcard_8c.html#a4a32a6e47d9f9bd2c84d6cd0c04ba64a">More...</a><br /></td></tr>
<tr class="separator:a4a32a6e47d9f9bd2c84d6cd0c04ba64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03f7ee4e40ff053b6dfd8b9e821248b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#af03f7ee4e40ff053b6dfd8b9e821248b">SDGoIdleState</a> (void)</td></tr>
<tr class="memdesc:af03f7ee4e40ff053b6dfd8b9e821248b"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Set SDcard to idle state.  <a href="sdcard_8c.html#af03f7ee4e40ff053b6dfd8b9e821248b">More...</a><br /></td></tr>
<tr class="separator:af03f7ee4e40ff053b6dfd8b9e821248b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e392218b111cecf26dc227935e3f79"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdcard_8c.html#ae5e392218b111cecf26dc227935e3f79">SDInit</a> (void)</td></tr>
<tr class="memdesc:ae5e392218b111cecf26dc227935e3f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;SDcard initialization.  <a href="sdcard_8c.html#ae5e392218b111cecf26dc227935e3f79">More...</a><br /></td></tr>
<tr class="separator:ae5e392218b111cecf26dc227935e3f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="DocNodeLTR">Access to SDcard. </p>
<p class="DocNodeLTR">Copyright 2019 Jean-Marcel Herzog</p>
<p class="DocNodeLTR">Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p class="DocNodeLTR">The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p class="DocNodeLTR">THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p><dl class="section author DocNodeLTR"><dt>Author</dt><dd>&#x202A;: Herzog, Jean-Marcel</dd></dl>
<dl class="section copyright DocNodeLTR"><dt>Copyright</dt><dd>&#x202A;Copyright 2019 Jean-Marcel Herzog. This project is released under the MIT license. </dd></dl>
<dl class="section date"><dt>Date</dt><dd>25.11.2019 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1</dd></dl>
<p class="DocNodeLTR">Implementation of SDcard intertactions over SPI </p>

<p class="definition">Definition in file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa4fe00f5b5970292cf53a4a6c9b32310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fe00f5b5970292cf53a4a6c9b32310">&#9670;&nbsp;</a></span>SDCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SDCommand </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>crc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Send command to SDcard. </p>
<p class="DocNodeLTR">All commands are 6 byte long and contain a command index, userdefined data and ending with a cyclic redundancy check (CRC). If no arguments required -&gt; send 0x00</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>&#x202A;command index </td></tr>
    <tr><td class="paramname">arg</td><td>&#x202A;userdefined data </td></tr>
    <tr><td class="paramname">crc</td><td>&#x202A;Cyclic Redundancy Check byte</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;for mre informations see the documentation of the SDcard Foundation at picture 7-1</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;void </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00081">81</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_cgraph.png" border="0" usemap="#asdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_cgraph" alt=""/></div>
<map name="sdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_cgraph" id="sdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_cgraph">
<area shape="rect" title="Send command to SDcard." alt="" coords="5,5,104,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="152,5,271,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_icgraph.png" border="0" usemap="#asdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_icgraph" alt=""/></div>
<map name="sdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_icgraph" id="sdcard_8c_aa4fe00f5b5970292cf53a4a6c9b32310_icgraph">
<area shape="rect" title="Send command to SDcard." alt="" coords="624,132,723,159"/>
<area shape="rect" href="sdcard_8h.html#af03f7ee4e40ff053b6dfd8b9e821248b" title="Set SDcard to idle state." alt="" coords="463,56,571,83"/>
<area shape="rect" href="sdcard_8h.html#a123b456cb023690e0005dff7df6487b0" title="Read Single Block (CMD17)" alt="" coords="466,5,569,32"/>
<area shape="rect" href="sdcard_8h.html#a369e67e246284a5b30d80aa0a6ff9b84" title="Read Operation Conditions Register (OCR) CMD58." alt="" coords="468,107,567,133"/>
<area shape="rect" href="sdcard_8h.html#af515c90a15e2d8d663537120e1d27e50" title="First Sending Command." alt="" coords="471,157,564,184"/>
<area shape="rect" href="sdcard_8h.html#acf65b52cf2c083550241bf10fcc864ca" title="Send Interface Condition Command (CMD8)" alt="" coords="464,208,571,235"/>
<area shape="rect" href="sdcard_8h.html#abdfa2111d3874aa8f721d3c5f7c132ee" title="Send Operating Condition Command (ACMD41)" alt="" coords="459,259,576,285"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="316,132,373,159"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,56,231,83"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,56,56,83"/>
<area shape="rect" href="fat32_8h.html#a1f4251fa9ffd0d22524fb6623779ea62" title="Read SDcard boot sector." alt="" coords="279,5,411,32"/>
<area shape="rect" href="fat32_8h.html#ae50a6c570ada0b264232cea240163346" title="Read file." alt="" coords="311,56,379,83"/>
</map>
</div>

</div>
</div>
<a id="af03f7ee4e40ff053b6dfd8b9e821248b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03f7ee4e40ff053b6dfd8b9e821248b">&#9670;&nbsp;</a></span>SDGoIdleState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SDGoIdleState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Set SDcard to idle state. </p>
<p class="DocNodeLTR">Send a init command (CMD0) to bring SDcard to idle mode.</p>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;R1 response format </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00375">375</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_cgraph.png" border="0" usemap="#asdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_cgraph" alt=""/></div>
<map name="sdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_cgraph" id="sdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_cgraph">
<area shape="rect" title="Set SDcard to idle state." alt="" coords="5,56,113,83"/>
<area shape="rect" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310" title="Send command to SDcard." alt="" coords="161,5,260,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="308,56,427,83"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="167,107,254,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_icgraph.png" border="0" usemap="#asdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_icgraph" alt=""/></div>
<map name="sdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_icgraph" id="sdcard_8c_af03f7ee4e40ff053b6dfd8b9e821248b_icgraph">
<area shape="rect" title="Set SDcard to idle state." alt="" coords="384,5,492,32"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="279,5,336,32"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,5,231,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ae5e392218b111cecf26dc227935e3f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e392218b111cecf26dc227935e3f79">&#9670;&nbsp;</a></span>SDInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SDInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;SDcard initialization. </p>
<p class="DocNodeLTR">full initialization porcess after picture 7-12 of the SDcard Foundation documentation.</p>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;no implementation for SDcard of generation 1.x</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;0: initialization error | 1: initialization sucessfull </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00408">408</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_ae5e392218b111cecf26dc227935e3f79_cgraph.png" border="0" usemap="#asdcard_8c_ae5e392218b111cecf26dc227935e3f79_cgraph" alt=""/></div>
<map name="sdcard_8c_ae5e392218b111cecf26dc227935e3f79_cgraph" id="sdcard_8c_ae5e392218b111cecf26dc227935e3f79_cgraph">
<area shape="rect" title="SDcard initialization." alt="" coords="5,182,63,209"/>
<area shape="rect" href="sdcard_8c.html#af03f7ee4e40ff053b6dfd8b9e821248b" title="Set SDcard to idle state." alt="" coords="270,67,378,94"/>
<area shape="rect" href="sdcard_8c.html#a80e7493f60aabadc9022e6c0aca80850" title="Start initialization sequence." alt="" coords="431,422,581,449"/>
<area shape="rect" href="sdcard_8c.html#a4a32a6e47d9f9bd2c84d6cd0c04ba64a" title="Read Operation Conditions Register (OCR) CMD58." alt="" coords="115,207,213,234"/>
<area shape="rect" href="sdcard_8c.html#af515c90a15e2d8d663537120e1d27e50" title="First Sending Command." alt="" coords="277,17,371,43"/>
<area shape="rect" href="sdcard_8c.html#a25c915ce44b0f9e6434ea408ac6c1759" title="Send Interface Condition Command (CMD8)" alt="" coords="111,283,217,310"/>
<area shape="rect" href="sdcard_8c.html#abdfa2111d3874aa8f721d3c5f7c132ee" title="Send Operating Condition Command (ACMD41)" alt="" coords="265,118,383,145"/>
<area shape="rect" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310" title="Send command to SDcard." alt="" coords="457,169,555,195"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="629,169,748,195"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="463,67,549,94"/>
<area shape="rect" href="sdcard_8c.html#adf802748634393b9afd37c60c1e90dab" title="Read response format R7." alt="" coords="281,270,367,297"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_ae5e392218b111cecf26dc227935e3f79_icgraph.png" border="0" usemap="#asdcard_8c_ae5e392218b111cecf26dc227935e3f79_icgraph" alt=""/></div>
<map name="sdcard_8c_ae5e392218b111cecf26dc227935e3f79_icgraph" id="sdcard_8c_ae5e392218b111cecf26dc227935e3f79_icgraph">
<area shape="rect" title="SDcard initialization." alt="" coords="279,5,336,32"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,5,231,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a80e7493f60aabadc9022e6c0aca80850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e7493f60aabadc9022e6c0aca80850">&#9670;&nbsp;</a></span>SDPowerUpSequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SDPowerUpSequence </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Start initialization sequence. </p>
<p class="DocNodeLTR">SDcard need a minimum of 1ms and 74 clock cycles (SPI) befor commands can be send. Therefore, this function implement a delay of 1ms and send 10 bytes over SPI (1 byte = 8 clock cylces). Chip Select have to be deselected.</p>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;for more informations see the documentation of the SDcard Foundation at picture 6-4</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;void </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00054">54</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a80e7493f60aabadc9022e6c0aca80850_cgraph.png" border="0" usemap="#asdcard_8c_a80e7493f60aabadc9022e6c0aca80850_cgraph" alt=""/></div>
<map name="sdcard_8c_a80e7493f60aabadc9022e6c0aca80850_cgraph" id="sdcard_8c_a80e7493f60aabadc9022e6c0aca80850_cgraph">
<area shape="rect" title="Start initialization sequence." alt="" coords="5,5,156,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="204,5,323,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a80e7493f60aabadc9022e6c0aca80850_icgraph.png" border="0" usemap="#asdcard_8c_a80e7493f60aabadc9022e6c0aca80850_icgraph" alt=""/></div>
<map name="sdcard_8c_a80e7493f60aabadc9022e6c0aca80850_icgraph" id="sdcard_8c_a80e7493f60aabadc9022e6c0aca80850_icgraph">
<area shape="rect" title="Start initialization sequence." alt="" coords="384,5,535,32"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="279,5,336,32"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,5,231,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="adb000ca004cd3908dcc5be27a7af06c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb000ca004cd3908dcc5be27a7af06c0">&#9670;&nbsp;</a></span>SDReadBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SDReadBlock </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Read Single Block (CMD17) </p>
<p class="DocNodeLTR">Read a single datablock from a specific address.</p>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;SDHC und SDXC Karten have block-addresses, this mens the address 0 return values from byte 0-511 or address 1 return values from address 512-1023. The values where stored at _buffer[] (<a class="el" href="sdcard_8h.html">sdcard.h</a>).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>&#x202A;address/sector of the datablock</td></tr>
    <tr><td class="paramname">token</td><td>&#x202A;Token of the read datablock</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;R1 response message </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00280">280</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_cgraph.png" border="0" usemap="#asdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_cgraph" alt=""/></div>
<map name="sdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_cgraph" id="sdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_cgraph">
<area shape="rect" title="Read Single Block (CMD17)" alt="" coords="5,56,108,83"/>
<area shape="rect" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310" title="Send command to SDcard." alt="" coords="156,5,255,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="303,56,421,83"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="162,107,249,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_icgraph.png" border="0" usemap="#asdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_icgraph" alt=""/></div>
<map name="sdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_icgraph" id="sdcard_8c_adb000ca004cd3908dcc5be27a7af06c0_icgraph">
<area shape="rect" title="Read Single Block (CMD17)" alt="" coords="459,31,561,57"/>
<area shape="rect" href="fat32_8h.html#a1f4251fa9ffd0d22524fb6623779ea62" title="Read SDcard boot sector." alt="" coords="279,5,411,32"/>
<area shape="rect" href="fat32_8h.html#ae50a6c570ada0b264232cea240163346" title="Read file." alt="" coords="311,56,379,83"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,31,231,57"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,31,56,57"/>
</map>
</div>

</div>
</div>
<a id="a4a32a6e47d9f9bd2c84d6cd0c04ba64a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a32a6e47d9f9bd2c84d6cd0c04ba64a">&#9670;&nbsp;</a></span>SDReadOCR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SDReadOCR </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Read Operation Conditions Register (OCR) CMD58. </p>
<p class="DocNodeLTR">Read the OCR register. CSS bit is allocated to the OCR register. This command return a response message of format R3. This response contain all available operating voltages of the SDcard.</p>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;for more informatins see the documentation oof the SDcard Foundation at table 5-1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>&#x202A;Pointer for R3 response message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;void </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00346">346</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_cgraph.png" border="0" usemap="#asdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_cgraph" alt=""/></div>
<map name="sdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_cgraph" id="sdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_cgraph">
<area shape="rect" title="Read Operation Conditions Register (OCR) CMD58." alt="" coords="5,56,104,83"/>
<area shape="rect" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310" title="Send command to SDcard." alt="" coords="287,5,385,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="433,81,552,108"/>
<area shape="rect" href="sdcard_8c.html#adf802748634393b9afd37c60c1e90dab" title="Read response format R7." alt="" coords="152,107,239,133"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="293,157,379,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_icgraph.png" border="0" usemap="#asdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_icgraph" alt=""/></div>
<map name="sdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_icgraph" id="sdcard_8c_a4a32a6e47d9f9bd2c84d6cd0c04ba64a_icgraph">
<area shape="rect" title="Read Operation Conditions Register (OCR) CMD58." alt="" coords="384,5,483,32"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="279,5,336,32"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,5,231,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a1fa518d1b1d7b4052e5b0018d1cc2c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa518d1b1d7b4052e5b0018d1cc2c14">&#9670;&nbsp;</a></span>SDReadR1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SDReadR1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Read R1 message. </p>
<p class="DocNodeLTR">Read a 1 byte response from SDcard. Bit number 7 is always 0. All other bits representing a error.</p>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;for more informations see the documentation of the SDcard Foundation at picture 7-19</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;Response message of type R1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00109">109</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_cgraph.png" border="0" usemap="#asdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_cgraph" alt=""/></div>
<map name="sdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_cgraph" id="sdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_cgraph">
<area shape="rect" title="Read R1 message." alt="" coords="5,5,92,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="140,5,259,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_icgraph.png" border="0" usemap="#asdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_icgraph" alt=""/></div>
<map name="sdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_icgraph" id="sdcard_8c_a1fa518d1b1d7b4052e5b0018d1cc2c14_icgraph">
<area shape="rect" title="Read R1 message." alt="" coords="780,132,867,159"/>
<area shape="rect" href="sdcard_8h.html#af03f7ee4e40ff053b6dfd8b9e821248b" title="Set SDcard to idle state." alt="" coords="459,56,567,83"/>
<area shape="rect" href="sdcard_8h.html#a123b456cb023690e0005dff7df6487b0" title="Read Single Block (CMD17)" alt="" coords="461,5,564,32"/>
<area shape="rect" href="sdcard_8h.html#a5f9aea985fdf6e2ca5e498b8fe8875f1" title="Read response format R7." alt="" coords="630,132,717,159"/>
<area shape="rect" href="sdcard_8h.html#af515c90a15e2d8d663537120e1d27e50" title="First Sending Command." alt="" coords="627,183,720,209"/>
<area shape="rect" href="sdcard_8h.html#abdfa2111d3874aa8f721d3c5f7c132ee" title="Send Operating Condition Command (ACMD41)" alt="" coords="615,233,732,260"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="316,132,373,159"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,56,231,83"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,56,56,83"/>
<area shape="rect" href="fat32_8h.html#a1f4251fa9ffd0d22524fb6623779ea62" title="Read SDcard boot sector." alt="" coords="279,5,411,32"/>
<area shape="rect" href="fat32_8h.html#ae50a6c570ada0b264232cea240163346" title="Read file." alt="" coords="311,56,379,83"/>
<area shape="rect" href="sdcard_8h.html#a369e67e246284a5b30d80aa0a6ff9b84" title="Read Operation Conditions Register (OCR) CMD58." alt="" coords="463,107,562,133"/>
<area shape="rect" href="sdcard_8h.html#acf65b52cf2c083550241bf10fcc864ca" title="Send Interface Condition Command (CMD8)" alt="" coords="459,157,566,184"/>
</map>
</div>

</div>
</div>
<a id="adf802748634393b9afd37c60c1e90dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf802748634393b9afd37c60c1e90dab">&#9670;&nbsp;</a></span>SDReadR7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SDReadR7 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Read response format R7. </p>
<p class="DocNodeLTR">The R7 format is 8 byte long. First byte is identical to R1 response. Followed by a command version field, voltage accepted field and a Echo-back CRC field of the transmitted command to SDcard. SDcards of first generation, only R1 section will be filled with data. Every other section will be 0. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>&#x202A;Pointer f√ºr gelesenen Inhalt</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;for more informations see the documentation of the SDcard Foundation at picture 7-12</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;void </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00142">142</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_adf802748634393b9afd37c60c1e90dab_cgraph.png" border="0" usemap="#asdcard_8c_adf802748634393b9afd37c60c1e90dab_cgraph" alt=""/></div>
<map name="sdcard_8c_adf802748634393b9afd37c60c1e90dab_cgraph" id="sdcard_8c_adf802748634393b9afd37c60c1e90dab_cgraph">
<area shape="rect" title="Read response format R7." alt="" coords="5,31,92,57"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="140,5,227,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="275,31,393,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_adf802748634393b9afd37c60c1e90dab_icgraph.png" border="0" usemap="#asdcard_8c_adf802748634393b9afd37c60c1e90dab_icgraph" alt=""/></div>
<map name="sdcard_8c_adf802748634393b9afd37c60c1e90dab_icgraph" id="sdcard_8c_adf802748634393b9afd37c60c1e90dab_icgraph">
<area shape="rect" title="Read response format R7." alt="" coords="539,31,625,57"/>
<area shape="rect" href="sdcard_8h.html#a369e67e246284a5b30d80aa0a6ff9b84" title="Read Operation Conditions Register (OCR) CMD58." alt="" coords="388,5,487,32"/>
<area shape="rect" href="sdcard_8h.html#acf65b52cf2c083550241bf10fcc864ca" title="Send Interface Condition Command (CMD8)" alt="" coords="384,56,491,83"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="279,31,336,57"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,31,231,57"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,31,56,57"/>
</map>
</div>

</div>
</div>
<a id="af515c90a15e2d8d663537120e1d27e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af515c90a15e2d8d663537120e1d27e50">&#9670;&nbsp;</a></span>SDSendApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SDSendApp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;First Sending Command. </p>
<p class="DocNodeLTR">Command to SDcard. Next command is a application-specific command and contains no transfer data (like a standard command)</p>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;R1 Response Nachricht </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00205">205</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_af515c90a15e2d8d663537120e1d27e50_cgraph.png" border="0" usemap="#asdcard_8c_af515c90a15e2d8d663537120e1d27e50_cgraph" alt=""/></div>
<map name="sdcard_8c_af515c90a15e2d8d663537120e1d27e50_cgraph" id="sdcard_8c_af515c90a15e2d8d663537120e1d27e50_cgraph">
<area shape="rect" title="First Sending Command." alt="" coords="5,56,99,83"/>
<area shape="rect" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310" title="Send command to SDcard." alt="" coords="147,5,245,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="293,56,412,83"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="153,107,239,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_af515c90a15e2d8d663537120e1d27e50_icgraph.png" border="0" usemap="#asdcard_8c_af515c90a15e2d8d663537120e1d27e50_icgraph" alt=""/></div>
<map name="sdcard_8c_af515c90a15e2d8d663537120e1d27e50_icgraph" id="sdcard_8c_af515c90a15e2d8d663537120e1d27e50_icgraph">
<area shape="rect" title="First Sending Command." alt="" coords="384,5,477,32"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="279,5,336,32"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,5,231,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a25c915ce44b0f9e6434ea408ac6c1759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25c915ce44b0f9e6434ea408ac6c1759">&#9670;&nbsp;</a></span>SDSendIfCond()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SDSendIfCond </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Send Interface Condition Command (CMD8) </p>
<p class="DocNodeLTR">Command check if SDcard generation is 1 or higher. If SDCard of gen. 1 is detected bit 2 in R1 will be set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>&#x202A;received data pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo DocNodeLTR"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>&#x202A;Implementation of a SDcard version detection</dd></dl>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;Only SDcards of second generation and higher are working with this project. A version control will not be done at this code.</dd>
<dd>
&#x202A;for more informatins see the documentation oof the SDcard Foundation at table 4-18</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;void </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00175">175</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_cgraph.png" border="0" usemap="#asdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_cgraph" alt=""/></div>
<map name="sdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_cgraph" id="sdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_cgraph">
<area shape="rect" title="Send Interface Condition Command (CMD8)" alt="" coords="5,56,112,83"/>
<area shape="rect" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310" title="Send command to SDcard." alt="" coords="295,5,393,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="441,81,560,108"/>
<area shape="rect" href="sdcard_8c.html#adf802748634393b9afd37c60c1e90dab" title="Read response format R7." alt="" coords="160,107,247,133"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="301,157,387,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_icgraph.png" border="0" usemap="#asdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_icgraph" alt=""/></div>
<map name="sdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_icgraph" id="sdcard_8c_a25c915ce44b0f9e6434ea408ac6c1759_icgraph">
<area shape="rect" title="Send Interface Condition Command (CMD8)" alt="" coords="384,5,491,32"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="279,5,336,32"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,5,231,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="abdfa2111d3874aa8f721d3c5f7c132ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdfa2111d3874aa8f721d3c5f7c132ee">&#9670;&nbsp;</a></span>SDSendOpCond()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SDSendOpCond </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Send Operating Condition Command (ACMD41) </p>
<p class="DocNodeLTR">This function send the host capacity supper information and starts the card initialization.</p>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;R1 response message </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard_8c_source.html#l00239">239</a> of file <a class="el" href="sdcard_8c_source.html">sdcard.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_cgraph.png" border="0" usemap="#asdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_cgraph" alt=""/></div>
<map name="sdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_cgraph" id="sdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_cgraph">
<area shape="rect" title="Send Operating Condition Command (ACMD41)" alt="" coords="5,56,123,83"/>
<area shape="rect" href="sdcard_8c.html#aa4fe00f5b5970292cf53a4a6c9b32310" title="Send command to SDcard." alt="" coords="171,5,269,32"/>
<area shape="rect" href="spi_8c.html#a2f6dd9706527668a1002229193580372" title="Send/receive messages." alt="" coords="317,56,436,83"/>
<area shape="rect" href="sdcard_8c.html#a1fa518d1b1d7b4052e5b0018d1cc2c14" title="Read R1 message." alt="" coords="177,107,263,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_icgraph.png" border="0" usemap="#asdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_icgraph" alt=""/></div>
<map name="sdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_icgraph" id="sdcard_8c_abdfa2111d3874aa8f721d3c5f7c132ee_icgraph">
<area shape="rect" title="Send Operating Condition Command (ACMD41)" alt="" coords="384,5,501,32"/>
<area shape="rect" href="sdcard_8h.html#ae5e392218b111cecf26dc227935e3f79" title="SDcard initialization." alt="" coords="279,5,336,32"/>
<area shape="rect" href="autoconfig_routine_8h.html#a49a747a4c6c741cb62d404d6a54e921b" title="Automatic configuration routine." alt="" coords="104,5,231,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main loop." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6719ab1f1f7655efc2fa43f7eb574fd1.html">&#x202A;libs</a></li><li class="navelem"><a class="el" href="dir_098762aa55b28b3f72d27bfc27eabe67.html">&#x202A;sdcard</a></li><li class="navelem"><a class="el" href="sdcard_8c.html">&#x202A;sdcard.c</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
